Module: diagnose
Purpose: Send a screenshot to Claude Vision API and receive a structured IT diagnosis with step-by-step fix instructions.

Input: image_path: str — path to a PNG screenshot file
Output: dict — structured diagnosis result

Dependencies: anthropic, base64, json, os

Behavior:
- Read the PNG file and base64 encode it.
- Send to Anthropic Claude API (model: claude-sonnet-4-20250514) with a vision message.
- The system prompt instructs Claude to analyze the screenshot for IT issues and return JSON with:
  - "diagnosis": human-readable explanation of the issue
  - "category": one of "wifi", "dns", "password", "other"
  - "fix_id": one of "toggle_wifi", "flush_dns", "restart_network", "open_credential_manager", or null
  - "fix_description": human-readable description of the recommended fix
  - "steps": array of step objects, each containing:
    - "step": step number (int)
    - "description": what this step does in plain language
    - "command": the Windows command to execute
    - "needs_admin": boolean, whether the command needs UAC elevation
    - "ui_highlight": object with "element", "location", "action" keys (or null if no highlight needed)
- Parse the JSON response and return the dict.
- If JSON parsing fails, raise ValueError with the raw response text.

Function signature:
    def diagnose_screenshot(image_path: str) -> dict

Configuration:
- API key loaded from environment variable ANTHROPIC_API_KEY
- Model: claude-sonnet-4-20250514
- Max tokens: 2048

Edge cases:
- If the image file doesn't exist, raise FileNotFoundError.
- If the API returns an error, let the anthropic exception propagate.
- If Claude cannot identify any IT issue, it should return category "other" and fix_id null with an empty steps array.
